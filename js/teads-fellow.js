"use strict";!function(){var e=["account","password","pass","secret","secretkey","secret","username","user","login","ordernumber","orderid","email","mail","user.email","user.password","user.name","user.email","user.mail","user.lastname","user.firstname","user.phone","user.phonenumber","lastname","firstname","name","address","phonenumber","phone","client_secret","guid"],t={conversionType:"conversion_type"};function n(e){var t="",n=function(e){var t=e,n=!1;try{for(var i=0;t.parent.document!==t.document||i<50;i++){if(!t.parent.document){n=!0;break}t=t.parent}}catch(e){n=!0}return{topFrame:t,err:n}}(e),i=n.topFrame;if(n.err)try{t=i.top.location.href}catch(e){t=i.location.href}else t=i.location.href;return t}function i(e,t){try{var i={errorMessage:e,topUrl:n(window),userAgent:void 0!==window.navigator&&void 0!==window.navigator.userAgent?window.navigator.userAgent:"",exception:t||""};e=JSON.stringify(i)}catch(e){}document.createElement("img").src="https://l.teads.tv/performance/http-source?"+encodeURIComponent(e)}async function o(t,o,r){const a=c(),d=u(),s=await async function(){try{return!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime)&&document.featurePolicy&&document.featurePolicy.features()&&document.featurePolicy.features().includes("interest-cohort")&&await document.interestCohort()||{}}catch(e){return i(" Unable to retrieve cohort id",e.message),{}}}(),m=document.createElement("img");m.width=0,m.height=0,m.alt="",m.style.position="absolute";const w=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push(n+"="+encodeURIComponent(e[n]))})),t.join("&")}(o);let l=n(window);var v=void 0;if(""!==l){var p=l.split("?").length>1?l.split("?")[1]:void 0;if(void 0!==p){for(var f=l.split("?")[0]+"?",_=p.split("&"),h=0;h<_.length;h++){var y=_[h];-1!==y.indexOf("auctid=")&&(v=y.replace("auctid=",""));var g=y.split("=");f=f+(0==h?"":"&")+g[0]+"="+(e.indexOf(g[0])>=0?"XXXXXXXX":g[1])}l=f}}var b=r+"?action="+t;w.length>0&&(b=b+"&"+w),void 0!==d?b=b+"&buyer_pixel_id="+encodeURIComponent(d):void 0!==a&&(b=b+"&advertiser_id="+encodeURIComponent(a)),s.id&&(b=b+"&cohort_id="+encodeURIComponent(s.id)),b=b+"&referer="+encodeURIComponent(l),void 0!==v&&v.length>0&&(b=b+"&auctid="+v),m.src=b,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.getElementsByTagName("script")[0].parentNode).insertBefore(m,null)}function r(e,n){var o={};return Object.keys(e).forEach((function(r){var a=r,d=e[r];t.hasOwnProperty(a)?o[t[a]]=d+(n||""):i("Invalid parameter specified in event: "+a)})),o}function a(e){return function(){setTimeout((function(){document&&document.hidden||o("timeSpent",r({}),"https://t.teads.tv/track")}),1e3*e)}}async function d(){if(void 0!==window.teads_e)for(;window.teads_e.length;){var e=window.teads_e.shift();await m(e)}else i("The event queue is not defined.")}async function s(){var e;v(),(e=document.createElement("meta")).httpEquiv="origin-trial",e.content="A/j6QtZ5QtlZcLGHuYBce5i3WFMXVvc89MjxJazvAJx/Vk5s4X8XcCtbAFmv8NFM084EjqJGNfn99gg0FUhvIgYAAAB6eyJvcmlnaW4iOiJodHRwczovL3RlYWRzLnR2OjQ0MyIsImZlYXR1cmUiOiJJbnRlcmVzdENvaG9ydEFQSSIsImV4cGlyeSI6MTYyNjIyMDc5OSwiaXNTdWJkb21haW4iOnRydWUsImlzVGhpcmRQYXJ0eSI6dHJ1ZX0=",document.head.appendChild(e);try{window.teads_disable_time_on_site_tracking||Object.defineProperty(window,"teads_disable_time_on_site_tracking",{set:function(e){this._teads_disable_time_on_site_tracking=e},get:function(){return this._teads_disable_time_on_site_tracking},configurable:!0}),window.teads_adv_id||Object.defineProperty(window,"teads_adv_id",{set:function(e){this._teads_adv_id=e,w()},get:function(){return this._teads_adv_id},configurable:!0}),window.teads_buyer_pixel_id||Object.defineProperty(window,"teads_buyer_pixel_id",{set:function(e){this._teads_buyer_pixel_id=e,w()},get:function(){return this._teads_buyer_pixel_id},configurable:!0})}catch(e){i("Error while binding advertiser and pixel ids",e.message)}var t=c(),n=u();"number"!=typeof t&&"number"!=typeof n||await w();var o=window.teads_e||[];window.teads_e=[],window.teads_e.push=function(){return Array.prototype.push.apply(this,arguments),d(),window.teads_e.length},window.teads_e.push.apply(window.teads_e,o)}function c(){return void 0!==window.teads&&void 0!==window.teads.advertiserId?"number"==typeof window.teads.advertiserId?window.teads.advertiserId:void i("The format of AdvertiserId is not valid."):void 0!==window.teads_cv&&void 0!==window.teads_cv.advertiserId?"number"==typeof window.teads_cv.advertiserId?window.teads_cv.advertiserId:void i("The format of AdvertiserId is not valid."):window.teads_adv_id}function u(){return window.teads_buyer_pixel_id}async function m(e){await o("conversion",r(e),"https://t.teads.tv/track"),l()&&await o("conversion",r(e),"https://cm.teads.tv/conversion")}async function w(){if(await o("pageView",{},"https://t.teads.tv/track"),l()&&await o("pageView",{},"https://cm.teads.tv/conversion"),!window.teads_disable_time_on_site_tracking)try{a(2)(),a(5)(),a(10)(),a(15)(),a(30)()}catch(e){i("Timeout error",e.message)}}function l(){return!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime)&&!!document.featurePolicy&&!!document.featurePolicy.features()&&document.featurePolicy.features().includes("conversion-measurement")}function v(){var e=document.createElement("meta");e.httpEquiv="origin-trial",e.content="A4/CUs7ChJ2GDuMW1t+K/d5myx9b6fOHxbrUvoolw/poORhTq3JhEqX3smVa4LjPUQInVYOBWLYwHpc5jgCNPQcAAAB+eyJvcmlnaW4iOiJodHRwczovL3RlYWRzLnR2OjQ0MyIsImZlYXR1cmUiOiJDb252ZXJzaW9uTWVhc3VyZW1lbnQiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9",document.head.appendChild(e)}async function p(e){try{"undefined"!=typeof window&&(e>0&&void 0===window.teads_cv?setTimeout(s,e):await s())}catch(e){i("Unhandled exception",e.message)}}p(200),"undefined"!=typeof module&&void 0!==module.exports&&(module.exports.tag=p,module.exports.getTopUrl=n,module.exports.setConversionMeasurementTrialToken=v)}();